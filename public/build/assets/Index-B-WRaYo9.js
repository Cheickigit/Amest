import{k as A,r as x,d as c,f as n,o as r,a as e,b as g,e as m,p as S,n as i,C as T,w as v,i as h,s as V,h as k,A as y,F as B,j as L,t as b,z as N}from"./app-B8f33P9o.js";import{A as $}from"./AdminLayout-K6sT7w34.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"max-w-7xl mx-auto text-bk-off space-y-5"},j={class:"flex flex-col lg:flex-row lg:items-center gap-3"},z={class:"relative"},D={class:"inline-flex rounded-lg bg-white/5 ring-1 ring-white/10 p-1 h-10"},F={class:"relative"},M={key:0,class:"rounded-2xl ring-1 ring-white/10 bg-white/[.04] p-10 text-center text-bk-off/70"},U={key:1,class:"overflow-x-auto rounded-xl ring-1 ring-white/10"},Z={class:"min-w-full text-sm"},q={class:"text-bk-off"},E={class:"px-4 py-2"},R={class:"px-4 py-2 text-center"},G={class:"px-4 py-2 text-center"},H={class:"px-4 py-2 text-right"},J=["onClick"],K=A({layout:$,__name:"Index",props:{items:{}},setup(w){const a=(o,t,s=!1)=>V(o,t??{},s,window.Ziggy),d=w,u=x(""),l=x("all"),p=x("recent"),_=c(()=>Array.isArray(d.items)?d.items:d.items.data??[]),f=c(()=>{let o=_.value.filter(t=>t.title.toLowerCase().includes(u.value.toLowerCase())).filter(t=>l.value==="all"?!0:t.status===l.value);return p.value==="title"&&(o=[...o].sort((t,s)=>t.title.localeCompare(s.title))),o});function C(o){confirm("Supprimer cet article ?")&&N.delete(a("admin.posts.destroy",o),{preserveScroll:!0})}return(o,t)=>(r(),n("div",P,[e("div",j,[t[9]||(t[9]=e("h1",{class:"text-2xl font-extrabold"},"ActualitÃ©s",-1)),t[10]||(t[10]=e("div",{class:"flex-1"},null,-1)),e("div",z,[m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),placeholder:"Rechercherâ€¦",class:"h-10 w-[280px] rounded-lg bg-white/[.06] ring-1 ring-white/10 pl-9 pr-3 text-sm outline-none text-bk-off placeholder:text-bk-off/55"},null,512),[[S,u.value]]),t[5]||(t[5]=e("span",{class:"absolute left-2 top-1/2 -translate-y-1/2 opacity-70"},"ðŸ”Ž",-1))]),e("div",D,[e("button",{type:"button",onClick:t[1]||(t[1]=s=>l.value="all"),class:i(["px-2.5 text-xs rounded-md",l.value==="all"?"bg-bk-gold text-bk-night font-semibold":"text-bk-off/85 hover:text-bk-off"])}," Tous ",2),e("button",{type:"button",onClick:t[2]||(t[2]=s=>l.value="publiÃ©"),class:i(["px-2.5 text-xs rounded-md",l.value==="publiÃ©"?"bg-bk-gold text-bk-night font-semibold":"text-bk-off/85 hover:text-bk-off"])}," PubliÃ©s ",2),e("button",{type:"button",onClick:t[3]||(t[3]=s=>l.value="brouillon"),class:i(["px-2.5 text-xs rounded-md",l.value==="brouillon"?"bg-bk-gold text-bk-night font-semibold":"text-bk-off/85 hover:text-bk-off"])}," Brouillons ",2)]),e("div",F,[m(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>p.value=s),class:"h-10 rounded-lg bg-white/[.06] ring-1 ring-white/10 px-3 pr-8 text-sm outline-none text-bk-off [color-scheme:dark]"},[...t[6]||(t[6]=[e("option",{value:"recent"},"Plus rÃ©cents",-1),e("option",{value:"title"},"Titre (Aâ†’Z)",-1)])],512),[[T,p.value]]),t[7]||(t[7]=e("span",{class:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 opacity-70"},"â–¾",-1))]),g(k(y),{href:a("admin.posts.create"),class:"h-10 inline-flex items-center gap-2 rounded-lg px-3 bg-bk-gold text-bk-night font-semibold shadow-[0_16px_40px_-16px_rgba(220,193,118,.45)] hover:-translate-y-0.5 transition"},{default:v(()=>[...t[8]||(t[8]=[h(" Nouvel article ",-1)])]),_:1},8,["href"])]),f.value.length?(r(),n("div",U,[e("table",Z,[t[12]||(t[12]=e("thead",{class:"bg-white/5 text-bk-off/70"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"Titre"),e("th",{class:"px-4 py-2 text-center"},"Statut"),e("th",{class:"px-4 py-2 text-center"},"Publication"),e("th",{class:"px-4 py-2"})])],-1)),e("tbody",q,[(r(!0),n(B,null,L(f.value,s=>(r(),n("tr",{key:s.id,class:"border-t border-white/10"},[e("td",E,b(s.title),1),e("td",R,[e("span",{class:i(["px-2 h-5 rounded text-[11px] uppercase inline-flex items-center justify-center",s.status==="publiÃ©"?"bg-emerald-500/15 text-emerald-300":"bg-yellow-500/15 text-yellow-300"])},b(s.status),3)]),e("td",G,b(s.published_at??"â€”"),1),e("td",H,[g(k(y),{href:a("admin.posts.edit",s.id),class:"px-2 py-1 rounded-md bg-white/10 hover:bg-white/15 text-bk-off"},{default:v(()=>[...t[11]||(t[11]=[h("Ã‰diter",-1)])]),_:2},1032,["href"]),e("button",{type:"button",onClick:O=>C(s.id),class:"ml-2 px-2 py-1 rounded-md bg-red-500/15 text-red-200 hover:bg-red-500/25"}," Supprimer ",8,J)])]))),128))])])])):(r(),n("div",M," Aucun article. "))]))}}),Y=I(K,[["__scopeId","data-v-bcc4b53b"]]);export{Y as default};
