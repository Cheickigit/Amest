import{A as c}from"./AdminLayout-K6sT7w34.js";import{k as g,f as a,o as r,a as t,b as v,t as i,w as h,i as o,s as b,h as w,A as _,g as y,F as S,j as k,n as D}from"./app-B8f33P9o.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"space-y-6"},A={class:"flex flex-wrap items-end justify-between gap-3"},E={class:"text-2xl md:text-3xl font-extrabold tracking-tight"},F={class:"text-white/70 text-sm"},L={class:"grid lg:grid-cols-3 gap-6"},N={class:"lg:col-span-2 space-y-4"},V={class:"card ring-gold p-5"},q={class:"grid md:grid-cols-2 gap-3"},B={class:"font-semibold"},C={class:"text-white/85"},z={class:"card ring-gold p-5"},R={class:"whitespace-pre-wrap text-white/90 leading-relaxed"},I={class:"space-y-4"},M={class:"card ring-gold p-5"},$={class:"space-y-2"},G={class:"min-w-0"},K={class:"truncate font-medium"},P={class:"text-xs text-white/60"},Z=["href"],H={key:0,class:"text-white/70"},J={class:"card ring-gold p-5"},O=["action"],Q={class:"mt-3 text-xs text-white/60"},U=g({layout:c,__name:"Show",props:{item:{}},setup(p){const s=p,m=(n,e,l=!1)=>b(n,e??{},l,globalThis.Ziggy),u=n=>n?new Date(n).toLocaleString("fr-FR",{dateStyle:"medium",timeStyle:"short"}):"—";function f(n){if(!n)return"—";const e=["o","Ko","Mo","Go","To"];let l=0,d=n;for(;d>=1024&&l<e.length-1;)d/=1024,l++;return`${d.toFixed(1)} ${e[l]}`}function x(n){confirm("Supprimer définitivement cette demande ?")||n.preventDefault()}return(n,e)=>(r(),a("div",j,[t("div",A,[t("div",null,[t("h1",E,"Demande #"+i(s.item.id),1),t("div",F,"Reçue le "+i(u(s.item.created_at)),1)]),v(w(_),{href:m("admin.quotes.index"),class:"inline-flex items-center h-10 px-3 rounded-lg border border-white/15 hover:border-bk-gold/60"},{default:h(()=>[...e[0]||(e[0]=[o("← Retour à la liste",-1)])]),_:1},8,["href"])]),t("div",L,[t("div",N,[t("div",V,[e[11]||(e[11]=t("div",{class:"font-bold text-lg mb-3"},"Informations",-1)),t("div",q,[t("div",null,[e[1]||(e[1]=t("span",{class:"text-white/60"},"Nom :",-1)),e[2]||(e[2]=o()),t("span",B,i(s.item.name),1)]),t("div",null,[e[3]||(e[3]=t("span",{class:"text-white/60"},"Société :",-1)),o(" "+i(s.item.company??"—"),1)]),t("div",null,[e[4]||(e[4]=t("span",{class:"text-white/60"},"Email :",-1)),e[5]||(e[5]=o()),t("span",C,i(s.item.email??"—"),1)]),t("div",null,[e[6]||(e[6]=t("span",{class:"text-white/60"},"Tél :",-1)),o(" "+i(s.item.phone??"—"),1)]),t("div",null,[e[7]||(e[7]=t("span",{class:"text-white/60"},"Ville :",-1)),o(" "+i(s.item.city??"—"),1)]),t("div",null,[e[8]||(e[8]=t("span",{class:"text-white/60"},"Type :",-1)),o(" "+i(s.item.project_type??"—"),1)]),t("div",null,[e[9]||(e[9]=t("span",{class:"text-white/60"},"Budget :",-1)),o(" "+i(s.item.budget??"—"),1)]),t("div",null,[e[10]||(e[10]=t("span",{class:"text-white/60"},"Délai souhaité :",-1)),o(" "+i(s.item.desired_date??"—"),1)])])]),t("div",z,[e[12]||(e[12]=t("div",{class:"font-bold text-lg mb-3"},"Message",-1)),t("div",R,i(s.item.message||"—"),1)])]),t("aside",I,[t("div",M,[e[13]||(e[13]=t("div",{class:"font-bold mb-3"},"Pièces jointes",-1)),t("ul",$,[(r(!0),a(S,null,k(s.item.files||[],(l,d)=>(r(),a("li",{key:d,class:"flex items-center gap-3 justify-between"},[t("div",G,[t("div",K,i(l.name||"Fichier "+(d+1)),1),t("div",P,i(l.mime||"—")+" · "+i(f(l.size)),1)]),t("a",{href:m("admin.quotes.file",{quote:s.item.id,index:d}),class:"inline-flex items-center h-9 px-3 rounded-lg border border-white/15 hover:border-bk-gold/60"},"Télécharger",8,Z)]))),128)),(s.item.files||[]).length?y("",!0):(r(),a("li",H,"Aucun fichier joint."))])]),t("div",J,[e[17]||(e[17]=t("div",{class:"font-bold mb-2"},"Actions",-1)),t("form",{action:m("admin.quotes.destroy",s.item.id),method:"post",onSubmit:x},[...e[14]||(e[14]=[t("input",{type:"hidden",name:"_method",value:"DELETE"},null,-1),t("button",{class:"inline-flex items-center gap-2 h-10 px-4 rounded-lg border border-red-400/40 text-red-300 hover:bg-red-400/10"}," Supprimer la demande ",-1)])],40,O),t("div",Q,[e[15]||(e[15]=o(" Statut : ",-1)),t("span",{class:D(["font-semibold",s.item.status==="new"?"text-bk-gold":"text-white/80"])},i(s.item.status),3),e[16]||(e[16]=t("br",null,null,-1)),o(" Lu le : "+i(u(s.item.read_at)),1)])])])])]))}}),tt=T(U,[["__scopeId","data-v-1f8dea8d"]]);export{tt as default};
