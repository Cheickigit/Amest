import{k as G,d as x,r as v,f as o,o as i,a as t,e as b,b as y,p as M,n as p,C as S,w as _,i as k,s as N,h as C,A as B,E as $,F as f,j as V,g as m,t as c,z as A}from"./app-B8f33P9o.js";import{A as H}from"./AdminLayout-K6sT7w34.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"max-w-7xl mx-auto text-white space-y-5"},Z={class:"flex flex-col lg:flex-row lg:items-center gap-3"},P={class:"relative"},R={class:"absolute left-2 top-1/2 -translate-y-1/2 opacity-70"},U={viewBox:"0 0 24 24",width:"16",height:"16"},q=["d"],I={class:"inline-flex rounded-lg bg-white/5 ring-1 ring-white/10 p-1 h-10"},J={key:0,class:"rounded-2xl ring-1 ring-white/10 bg-white/[.04] p-12 grid place-items-center text-center"},K={key:1,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},O={class:"relative aspect-video bg-white/5 overflow-hidden"},Q=["src","alt"],W={key:1,class:"h-full w-full grid place-items-center text-white/40 text-sm bg-gradient-to-br from-white/10 to-transparent"},X={key:2,class:"absolute top-2 left-2 rounded-full bg-black/60 px-2 h-6 grid place-items-center text-xs"},Y={viewBox:"0 0 24 24",width:"14",height:"14"},tt=["d"],et={class:"p-3"},st={class:"flex items-start gap-2"},ot={class:"flex-1 min-w-0"},it=["title"],lt={class:"text-xs text-white/60 mt-1 flex flex-wrap gap-1 items-center"},rt={class:"px-2 h-5 rounded bg-white/10"},nt={class:"px-2 h-5 rounded bg-white/5"},dt={class:"flex gap-1"},at={viewBox:"0 0 24 24",width:"14",height:"14"},ut=["d"],pt=["onClick"],ct={viewBox:"0 0 24 24",width:"14",height:"14"},gt=["d"],ht={key:0,class:"mt-3 flex gap-1 overflow-x-auto"},xt=["src"],vt={key:1,class:"h-10 w-14 grid place-items-center rounded ring-1 ring-white/10 text-[10px] text-white/70"},ft={viewBox:"0 0 24 24",width:"12",height:"12"},mt=["d"],_t=G({layout:H,__name:"Index",props:{items:{}},setup(z){const g=z,j=x(()=>window.Ziggy),a=(l,e,s=!1)=>N(l,e??{},s,j.value),n={search:"M10 2a8 8 0 1 0 5.29 14.29l4.21 4.21l1.41-1.41l-4.21-4.21A8 8 0 0 0 10 2z",video:"M8 5v14l11-7L8 5z",edit:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z",trash:"M6 7h12v2H6zm2 3h8l-1 10H9L8 10zm3-5h2l1 2H10l1-2z"},u=v(""),r=v("all"),h=v("recent"),D=x(()=>Array.isArray(g.items)?g.items:g.items.data??[]),w=x(()=>{let l=D.value.filter(e=>!u.value||e.title.toLowerCase().includes(u.value.toLowerCase())).filter(e=>r.value==="all"?!0:e.status===r.value);return h.value==="title"&&(l=[...l].sort((e,s)=>e.title.localeCompare(s.title))),l});function E(l){confirm("Supprimer cette réalisation ?")&&A.delete(a("admin.projects.destroy",l),{preserveScroll:!0,onSuccess:()=>A.visit(a("admin.projects.index"))})}const F=l=>(l.media||[]).some(e=>e.type==="video");return(l,e)=>(i(),o("div",T,[t("div",Z,[e[8]||(e[8]=t("h1",{class:"text-2xl font-extrabold tracking-tight"},"Réalisations",-1)),e[9]||(e[9]=t("div",{class:"flex-1"},null,-1)),t("div",P,[b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),placeholder:"Rechercher un titre…",class:"h-10 w-64 rounded-lg bg-white/[.06] ring-1 ring-white/10 pl-8 pr-3 text-sm outline-none text-white placeholder:text-white/60 focus:ring-bk-gold/50"},null,512),[[M,u.value]]),t("span",R,[(i(),o("svg",U,[e[5]||(e[5]=t("defs",null,[t("linearGradient",{id:"g-sea",x1:"0",y1:"0",x2:"1",y2:"1"},[t("stop",{offset:"0%","stop-color":"#F5E7B7"}),t("stop",{offset:"50%","stop-color":"#DCC176"}),t("stop",{offset:"100%","stop-color":"#8C7635"})])],-1)),t("path",{fill:"url(#g-sea)",d:n.search},null,8,q)]))])]),t("div",I,[t("button",{type:"button",onClick:e[1]||(e[1]=s=>r.value="all"),class:p(["px-2.5 text-xs rounded-md",r.value==="all"?"bg-bk-gold text-bk-night font-semibold":"text-white/80 hover:text-white"])},"Tous",2),t("button",{type:"button",onClick:e[2]||(e[2]=s=>r.value="publié"),class:p(["px-2.5 text-xs rounded-md",r.value==="publié"?"bg-bk-gold text-bk-night font-semibold":"text-white/80 hover:text-white"])},"Publiés",2),t("button",{type:"button",onClick:e[3]||(e[3]=s=>r.value="brouillon"),class:p(["px-2.5 text-xs rounded-md",r.value==="brouillon"?"bg-bk-gold text-bk-night font-semibold":"text-white/80 hover:text-white"])},"Brouillons",2)]),b(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>h.value=s),class:"h-10 rounded-lg bg-white/[.06] ring-1 ring-white/10 px-3 text-sm outline-none text-white [color-scheme:dark] [&>option]:bg-[#0f141a] [&>option]:text-white"},[...e[6]||(e[6]=[t("option",{value:"recent"},"Plus récents",-1),t("option",{value:"title"},"Titre (A→Z)",-1)])],512),[[S,h.value]]),y(C(B),{href:a("admin.projects.create"),class:"h-10 inline-flex items-center gap-2 rounded-lg px-3 bg-bk-gold text-bk-night font-semibold shadow-[0_16px_40px_-16px_rgba(220,193,118,.45)] hover:-translate-y-0.5 transition"},{default:_(()=>[...e[7]||(e[7]=[k(" Nouveau ",-1)])]),_:1},8,["href"])]),w.value.length?(i(),o("div",K,[(i(!0),o(f,null,V(w.value,s=>(i(),o("article",{key:s.id,class:"group rounded-2xl overflow-hidden ring-1 ring-white/10 bg-white/[.04] hover:ring-bk-gold/40 transition"},[t("div",O,[s.cover_image?(i(),o("img",{key:0,src:`/storage/${s.cover_image}`,class:"w-full h-full object-cover",alt:s.title},null,8,Q)):(i(),o("div",W," Aucune couverture ")),F(s)?(i(),o("div",X,[(i(),o("svg",Y,[e[11]||(e[11]=t("defs",null,[t("linearGradient",{id:"g-vid",x1:"0",y1:"0",x2:"1",y2:"1"},[t("stop",{offset:"0%","stop-color":"#F5E7B7"}),t("stop",{offset:"100%","stop-color":"#DCC176"})])],-1)),t("path",{fill:"url(#g-vid)",d:n.video},null,8,tt)])),e[12]||(e[12]=k("  Vidéo ",-1))])):m("",!0),e[13]||(e[13]=t("div",{class:"absolute inset-0 opacity-0 group-hover:opacity-100 transition bg-gradient-to-t from-black/50 via-black/20 to-transparent"},null,-1))]),t("div",et,[t("div",st,[t("div",ot,[t("div",{class:"font-semibold truncate",title:s.title},c(s.title),9,it),t("div",lt,[t("span",rt,c(s.category||"—"),1),t("span",nt,c(s.city||"—"),1),t("span",{class:p(["px-2 h-5 rounded text-[11px] uppercase",s.status==="publié"?"bg-emerald-500/15 text-emerald-300":"bg-yellow-500/15 text-yellow-300"])},c(s.status),3)])]),t("div",dt,[y(C(B),{href:a("admin.projects.edit",s.id),title:"Éditer",class:"px-2 py-1 rounded bg-white/10 text-xs hover:bg-white/15"},{default:_(()=>[(i(),o("svg",at,[e[14]||(e[14]=t("defs",null,[t("linearGradient",{id:"g-ed",x1:"0",y1:"0",x2:"1",y2:"1"},[t("stop",{offset:"0%","stop-color":"#F5E7B7"}),t("stop",{offset:"100%","stop-color":"#DCC176"})])],-1)),t("path",{fill:"url(#g-ed)",d:n.edit},null,8,ut)]))]),_:2},1032,["href"]),t("button",{type:"button",onClick:d=>E(s.id),title:"Supprimer",class:"px-2 py-1 rounded bg-red-500/15 text-red-200 text-xs hover:bg-red-500/25"},[(i(),o("svg",ct,[e[15]||(e[15]=t("defs",null,[t("linearGradient",{id:"g-tr",x1:"0",y1:"0",x2:"1",y2:"1"},[t("stop",{offset:"0%","stop-color":"#F5E7B7"}),t("stop",{offset:"100%","stop-color":"#DCC176"})])],-1)),t("path",{fill:"url(#g-tr)",d:n.trash},null,8,gt)]))],8,pt)])]),(s.media||[]).length?(i(),o("div",ht,[(i(!0),o(f,null,V((s.media||[]).slice(0,6),(d,L)=>(i(),o(f,{key:L},[d.type==="image"&&d.path?(i(),o("img",{key:0,src:`/storage/${d.path}`,class:"h-10 w-14 object-cover rounded ring-1 ring-white/10"},null,8,xt)):d.type==="video"?(i(),o("div",vt,[(i(),o("svg",ft,[e[16]||(e[16]=t("defs",null,[t("linearGradient",{id:"g-vs",x1:"0",y1:"0",x2:"1",y2:"1"},[t("stop",{offset:"0%","stop-color":"#F5E7B7"}),t("stop",{offset:"100%","stop-color":"#DCC176"})])],-1)),t("path",{fill:"url(#g-vs)",d:n.video},null,8,mt)]))])):m("",!0)],64))),128))])):m("",!0)])]))),128))])):(i(),o("div",J,[...e[10]||(e[10]=[$('<svg width="120" height="120" viewBox="0 0 24 24" class="opacity-60 mb-3"><defs><linearGradient id="grad-empty" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#F5E7B7"></stop><stop offset="100%" stop-color="#DCC176"></stop></linearGradient></defs><path fill="url(#grad-empty)" d="M19 3H5a2 2 0 0 0-2 2v14l4-4h12a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"></path></svg><div class="text-lg font-semibold">Aucune réalisation trouvée</div><div class="text-sm text-white/60">Ajoutez votre première réalisation pour commencer.</div>',3)])]))]))}});export{_t as default};
