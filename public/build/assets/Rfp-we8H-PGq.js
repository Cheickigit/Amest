import{k as B,u as U,c as R,o as r,w,a as e,e as n,f as d,i as g,m as y,b as j,h as l,A as q,g as h,t as f,p as c,C as k,F as $,j as N,B as O,s as P}from"./app-B8f33P9o.js";import{P as X}from"./PublicLayout-BRsrhnqk.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"relative overflow-hidden pt-14 md:pt-20 pb-10 md:pb-14"},Z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid lg:grid-cols-12 gap-8 items-center"},Q={class:"lg:col-span-4"},J={class:"lg:col-span-4 relative order-first lg:order-none"},K={class:"lg:col-span-4"},H={class:"card ring-gold p-6 md:p-7"},Y={class:"mt-6 flex gap-3"},ee={id:"rfp",class:"py-10 md:py-14"},se={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},te={class:"section-title"},ie={class:"mt-8 grid lg:grid-cols-2 gap-8 items-stretch"},le={class:"card ring-gold p-6 md:p-8 flex flex-col justify-between min-h-[360px]"},oe={class:"mt-6 flex gap-3"},ae={key:0,id:"quote-status","aria-live":"polite",class:"rounded-lg px-3 py-2 text-sm text-emerald-300 bg-emerald-500/10 ring-1 ring-emerald-500/20"},ne={key:1,id:"quote-status","aria-live":"assertive",class:"rounded-lg px-3 py-2 text-sm text-red-300 bg-red-500/10 ring-1 ring-red-500/20"},re={class:"grid md:grid-cols-2 gap-3"},de={class:"grid md:grid-cols-2 gap-3"},pe={class:"grid md:grid-cols-2 gap-3"},ce={class:"grid md:grid-cols-2 gap-3"},ue={class:"space-y-2"},me={class:"upload"},fe={class:"upload-ui"},ge={class:"opacity-80"},ve={key:0,class:"text-sm text-red-300"},xe={key:1,class:"flex flex-wrap gap-2 pt-1"},he={class:"truncate max-w-[18ch]"},ye={class:"text-[11px] text-white/60"},be=["onClick"],_e={class:"flex items-center gap-3 pt-1"},we=["disabled"],ke={key:0,class:"flex-1 h-1 rounded bg-white/10 overflow-hidden"},M=20,D=10,Me=B({__name:"Rfp",setup(De){function b(o,s,i=!1,a="#"){try{const p=globalThis?.Ziggy;return p?P(o,s??{},i,p):a}catch{return a}}let v=null;const u={mounted(o){o.classList.add("reveal"),v||(v=new IntersectionObserver(s=>{s.forEach(i=>{i.isIntersecting&&(i.target.classList.add("is-visible"),v?.unobserve(i.target))})},{threshold:.14})),v.observe(o)}},E=["application/pdf","application/x-zip-compressed","application/zip","application/x-rar-compressed","application/x-7z-compressed","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/octet-stream"],V=[".pdf",".zip",".rar",".7z",".doc",".docx",".xls",".xlsx",".dwg",".dxf"];function A(o){return V.some(s=>o.toLowerCase().endsWith(s))}function C(o){if(o==null)return"";const s=["o","Ko","Mo","Go"];let i=0,a=o;for(;a>=1024&&i<s.length-1;)a/=1024,i++;return`${a.toFixed(a>=10||i===0?0:1)} ${s[i]}`}const t=U({name:"",email:"",phone:"",city:"",project_type:"",budget:"",desired_date:"",company:"",message:"",files:[],hp:""});let x="",m="";function z(o){const s=Array.from(o),i=[...t.files];let a="";for(const p of s){if(i.length>=D){a=`Maximum ${D} fichiers.`;break}const T=E.includes(p.type)||A(p.name),I=p.size<=M*1024*1024;if(!T){a=`Format non autorisé: ${p.name}`;break}if(!I){a=`Taille > ${M} Mo: ${p.name}`;break}i.push(p)}a?m=a:(m="",t.files=i)}function F(o){try{const s=o.target;if(!s.files)return;z(s.files),s.value=""}catch{m="Impossible de lire le fichier. Réessayez."}}function S(o){t.files.splice(o,1)}function L(){m="",x="",t.post(b("forms.quote.store",{},!1,"/devis"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{x="Merci, votre demande a bien été envoyée. Nous revenons vers vous rapidement.";const o={email:t.email,name:t.name,phone:t.phone};t.reset("city","project_type","budget","desired_date","company","message","files","hp"),t.email=o.email,t.name=o.name,t.phone=o.phone}})}function _(){document.getElementById("devis")?.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{document.getElementById("devis-name")?.focus()},420)}return(o,s)=>(r(),R(X,null,{default:w(()=>[e("section",W,[s[15]||(s[15]=e("div",{class:"hero-ribbon","aria-hidden":"true"},null,-1)),e("div",Z,[n((r(),d("div",Q,[...s[10]||(s[10]=[e("span",{class:"tag-ghost"},"Appels d’offres",-1),e("h1",{class:"mt-3 text-4xl md:text-6xl font-extrabold leading-tight tracking-tight"},[g(" Déposez votre "),e("span",{class:"text-bk-gold"},"DCE"),g(" — chiffrage clair & rapide ")],-1),e("p",{class:"mt-4 text-white/80"}," VRD, Bâtiments, Génie civil : variantes optimisées, phasage net, planning réaliste. Transmission sécurisée des documents. ",-1),e("div",{class:"mt-6 flex flex-wrap gap-2"},[e("span",{class:"chip"},"Méthodes & phasage"),e("span",{class:"chip"},"Traçabilité"),e("span",{class:"chip"},"Qualité & Sécurité")],-1)])])),[[u]]),n((r(),d("div",J,[...s[11]||(s[11]=[e("div",{class:"hero-halo","aria-hidden":"true"},null,-1),e("div",{class:"rfp3d","aria-hidden":"true"},[e("div",{class:"grid-floor"}),e("div",{class:"vault"},[e("div",{class:"ring r1"}),e("div",{class:"ring r2"}),e("div",{class:"ring r3"}),e("div",{class:"shield"}),e("div",{class:"shackle"}),e("div",{class:"scan"}),e("div",{class:"cloud"}),e("div",{class:"arrow"})]),e("div",{class:"bits"},[e("span",{style:{"--i":"0"}}),e("span",{style:{"--i":"1"}}),e("span",{style:{"--i":"2"}}),e("span",{style:{"--i":"3"}}),e("span",{style:{"--i":"4"}}),e("span",{style:{"--i":"5"}}),e("span",{style:{"--i":"6"}}),e("span",{style:{"--i":"7"}}),e("span",{style:{"--i":"8"}})])],-1)])])),[[u]]),n((r(),d("div",K,[e("div",H,[s[13]||(s[13]=e("h3",{class:"text-2xl font-extrabold"},"Pourquoi nous ?",-1)),s[14]||(s[14]=e("div",{class:"mini-bullets mt-3"},[e("span",null,"✔️ Métrés & variantes optimisées"),e("span",null,"✔️ Délais & phasage détaillés"),e("span",null,"✔️ Proposition claire & traçable"),e("span",null,"✔️ Interventions partout au Maroc")],-1)),e("div",Y,[s[12]||(s[12]=e("a",{href:"#rfp",class:"btn-outline-gold"},"Transmettre un AO",-1)),e("a",{href:"#devis",class:"btn-ghost",onClick:y(_,["prevent"])},"Devis express")])])])),[[u]])])]),e("section",ee,[e("div",se,[n((r(),d("h2",te,[...s[16]||(s[16]=[g("Appels d’offres & Devis",-1)])])),[[u]]),e("div",ie,[n((r(),d("div",le,[s[18]||(s[18]=e("div",null,[e("h3",{class:"text-2xl md:text-3xl font-extrabold"},"Envoyez votre DCE ou faites une demande express"),e("p",{class:"text-white/80 mt-3"}," Réponse rapide avec chiffrage fiable, variantes et phasage réaliste. Conseils techniques pour optimiser délais & budget. "),e("div",{class:"mt-6 mini-bullets"},[e("span",null,"✔️ Métrés & variantes optimisées"),e("span",null,"✔️ Délais & phasage détaillés"),e("span",null,"✔️ Proposition claire et traçable"),e("span",null,"✔️ Interventions partout au Maroc")])],-1)),e("div",oe,[j(l(q),{href:b("public.contact",{},!1,"/contact"),class:"btn-outline-gold"},{default:w(()=>[...s[17]||(s[17]=[g("Nous contacter",-1)])]),_:1},8,["href"]),e("a",{href:"#devis",class:"btn-ghost",onClick:y(_,["prevent"])},"Devis express")])])),[[u]]),n((r(),d("form",{id:"devis",class:"card ring-gold p-6 md:p-8 grid gap-4",onSubmit:y(L,["prevent"]),"aria-describedby":"quote-status"},[l(x)?(r(),d("div",ae,f(l(x)),1)):Object.keys(l(t).errors).length?(r(),d("div",ne,"Merci de vérifier les champs saisis.")):h("",!0),e("div",re,[n(e("input",{id:"devis-name","onUpdate:modelValue":s[0]||(s[0]=i=>l(t).name=i),type:"text",placeholder:"Nom / Société",class:"field",required:""},null,512),[[c,l(t).name]]),n(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>l(t).email=i),type:"email",placeholder:"Email (ex. contact@domaine.ma)",class:"field"},null,512),[[c,l(t).email]])]),e("div",de,[n(e("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>l(t).phone=i),type:"tel",placeholder:"Téléphone",class:"field"},null,512),[[c,l(t).phone]]),n(e("input",{"onUpdate:modelValue":s[3]||(s[3]=i=>l(t).city=i),type:"text",placeholder:"Ville / Site (ex. Tanger Med)",class:"field"},null,512),[[c,l(t).city]])]),e("div",pe,[n(e("select",{"onUpdate:modelValue":s[4]||(s[4]=i=>l(t).project_type=i),class:"field"},[...s[19]||(s[19]=[e("option",{value:"",disabled:""},"Type de projet",-1),e("option",null,"VRD / Voirie",-1),e("option",null,"Génie civil",-1),e("option",null,"Bâtiment",-1),e("option",null,"Ouvrage d’art",-1),e("option",null,"Autre",-1)])],512),[[k,l(t).project_type]]),n(e("select",{"onUpdate:modelValue":s[5]||(s[5]=i=>l(t).budget=i),class:"field"},[...s[20]||(s[20]=[e("option",{value:"",disabled:""},"Budget estimatif",-1),e("option",null,"< 1 M MAD",-1),e("option",null,"1–5 M MAD",-1),e("option",null,"5–20 M MAD",-1),e("option",null,"> 20 M MAD",-1)])],512),[[k,l(t).budget]])]),e("div",ce,[n(e("input",{"onUpdate:modelValue":s[6]||(s[6]=i=>l(t).desired_date=i),type:"date",class:"field",placeholder:"Échéance souhaitée"},null,512),[[c,l(t).desired_date]]),n(e("input",{"onUpdate:modelValue":s[7]||(s[7]=i=>l(t).company=i),type:"text",class:"field",placeholder:"Société (optionnel)"},null,512),[[c,l(t).company]])]),n(e("textarea",{"onUpdate:modelValue":s[8]||(s[8]=i=>l(t).message=i),rows:"3",placeholder:"Votre besoin (lieu, délais, budget…)",class:"field"},null,512),[[c,l(t).message]]),e("div",ue,[e("label",me,[e("input",{type:"file",multiple:"",accept:".pdf,.zip,.rar,.7z,.doc,.docx,.xls,.xlsx,.dwg,.dxf",class:"sr-only",onChange:F},null,32),e("span",fe,[s[21]||(s[21]=g(" Joindre DCE / plans — ",-1)),e("span",ge,f(l(t).files.length)+" fichier(s)",1)])]),s[22]||(s[22]=e("div",{class:"text-xs text-white/50"}," Formats: PDF, ZIP, RAR, 7Z, DOC(X), XLS(X), DWG, DXF — Max 20 Mo / fichier, 10 fichiers. ",-1)),l(m)?(r(),d("div",ve,f(l(m)),1)):h("",!0),l(t).files.length?(r(),d("div",xe,[(r(!0),d($,null,N(l(t).files,(i,a)=>(r(),d("div",{key:a,class:"inline-flex items-center gap-2 px-2 h-8 rounded-lg bg-white/10 ring-1 ring-white/15"},[e("span",he,f(i.name),1),e("span",ye,f(C(i.size)),1),e("button",{type:"button",class:"text-white/60 hover:text-red-300 text-xs",onClick:p=>S(a)},"✕",8,be)]))),128))])):h("",!0)]),n(e("input",{"onUpdate:modelValue":s[9]||(s[9]=i=>l(t).hp=i),type:"text",class:"sr-only",tabindex:"-1",autocomplete:"off"},null,512),[[c,l(t).hp]]),e("div",_e,[e("button",{type:"submit",class:"btn-outline-gold",disabled:l(t).processing},f(l(t).processing?"Envoi…":"Envoyer"),9,we),l(t).progress?(r(),d("div",ke,[e("div",{class:"h-1 bg-bk-gold transition-all",style:O({width:`${l(t).progress.percentage}%`})},null,4)])):h("",!0)])],32)),[[u]])])])])]),_:1}))}}),Ce=G(Me,[["__scopeId","data-v-b2e27820"]]);export{Ce as default};
